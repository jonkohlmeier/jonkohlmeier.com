---
import { getCollection } from 'astro:content';
import SiteLayout from '../layouts/SiteLayout.astro';
import SectionHeader from '../components/SectionHeader.astro';
import ContentGrid from '../components/ContentGrid.astro';
import AdvisoryCard from '../components/AdvisoryCard.astro';
import CTASection from '../components/CTASection.astro';

const offerings = (await getCollection('advisory')).sort(
  (a, b) => (a.data.order ?? 0) - (b.data.order ?? 0),
);
---

<SiteLayout
  title="Advisory & Fractional Support"
  description="Partner with Jonathan Kohlmeier on RevOps, product, and systems leadership engagements."
>
  <section class="section-gap">
    <div class="container-page space-y-8">
      <SectionHeader
        eyebrow="Services"
        title="Fractional leadership for thoughtful teams"
        description="Each engagement begins with a diagnostic to understand your systems, rituals, and bottlenecks. From there we design the partnership that keeps your operators confident and your stakeholders aligned."
        align="center"
      />
      <ContentGrid columns={2}>
        {offerings.map((item) => (
          <AdvisoryCard
            name={item.data.name}
            description={item.data.description}
            who={item.data.who_it_is_for}
            outcomes={item.data.outcomes}
            ctaLabel={item.data.cta_label}
            ctaLink={item.data.cta_link}
          />
        ))}
      </ContentGrid>
    </div>
  </section>

  <CTASection
    title="Not sure which engagement fits?"
    description="We can design a bespoke retainer, audit, or workshop to match your teamâ€™s stage."
    ctaLabel="Schedule a discovery call"
    ctaLink="https://cal.com/jonkohlmeier/revops"
  />
</SiteLayout>
